(function(r,e){typeof exports=="object"&&typeof module<"u"?module.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis<"u"?globalThis:r||self,r.isApng=e())})(this,function(){"use strict";function r(e){if(!e||!(typeof Buffer<"u"&&Buffer.isBuffer(e)||e instanceof Uint8Array)||e.length<16||!(e[0]===137&&e[1]===80&&e[2]===78&&e[3]===71&&e[4]===13&&e[5]===10&&e[6]===26&&e[7]===10))return!1;function h(f,t,n,u,T=1024){if(!t)return-1;t=new RegExp(t,"g");const a=t.source.length,b=new TextDecoder,c=f.length;if(typeof u>"u"&&(u=c),n>=c||u<=0||n>=u)return-1;f=f.subarray(n,u);let o=-1,i=0,y=0,g="";e:for(;i<f.length;){const x=i+T,m=f.subarray(i,x),s=b.decode(m,{stream:!0}),B=g+s;let A,d=-1;for(;(A=t.exec(B))!==null;){d=A.index-g.length,o=y+d;break e}i=x,y+=s.length;const w=d>-1?d+a:s.length-a;g=s.slice(w)}return o>=0&&(o+=n>=0?n:c+n),o}const l=new Uint8Array(e),p=h(l,"IDAT",12);return p>=12?h(l,"acTL",8,p)>=8:!1}return r});
