const p=n=>{const i=n.dataset.collapseTarget;if(!i)return;const e=document.querySelector(`[data-collapse-pane]${i}`),a=e.querySelector("[data-collapse-content]"),o=e.closest("[data-collapse-item]");let l=!1,t=!1,s=null;n.addEventListener("click",()=>{l=d(),l?c():r()});function r(){t||(s&&e.removeEventListener("transitionend",s),s=()=>{e.classList.remove("is-collapsing"),t=!1,e.removeEventListener("transitionend",s)},t=!0,e.classList.add("is-collapsing"),e.classList.add("is-shown"),n.classList.add("is-open"),o.classList.add("is-open"),e.style.height=a.offsetHeight+"px",e.addEventListener("transitionend",s))}function c(){t||(s&&e.removeEventListener("transitionend",s),s=()=>{e.classList.remove("is-shown"),e.classList.remove("is-collapsing"),t=!1,e.removeEventListener("transitionend",s)},t=!0,e.style.height=a.offsetHeight+"px",setTimeout(()=>{e.classList.add("is-collapsing"),e.style.height="",n.classList.remove("is-open"),o.classList.remove("is-open"),e.addEventListener("transitionend",s)}))}function d(){return n.classList.contains("is-open")}};export{p as default};
