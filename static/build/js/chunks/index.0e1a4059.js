function I(t){return t.split("-")[1]}function ot(t){return t==="y"?"height":"width"}function V(t){return t.split("-")[0]}function G(t){return["top","bottom"].includes(V(t))?"x":"y"}function st(t,e,o){let{reference:n,floating:i}=t;const r=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2,s=G(e),c=ot(s),a=n[c]/2-i[c]/2,u=s==="x";let f;switch(V(e)){case"top":f={x:r,y:n.y-i.height};break;case"bottom":f={x:r,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:l};break;case"left":f={x:n.x-i.width,y:l};break;default:f={x:n.x,y:n.y}}switch(I(e)){case"start":f[s]-=a*(o&&u?-1:1);break;case"end":f[s]+=a*(o&&u?-1:1)}return f}const At=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:l}=o,s=r.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(e));let a=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=st(a,n,c),p=n,d={},m=0;for(let h=0;h<s.length;h++){const{name:g,fn:y}=s[h],{x:w,y:x,data:$,reset:b}=await y({x:u,y:f,initialPlacement:n,placement:p,strategy:i,middlewareData:d,rects:a,platform:l,elements:{reference:t,floating:e}});u=w??u,f=x??f,d={...d,[g]:{...d[g],...$}},b&&m<=50&&(m++,typeof b=="object"&&(b.placement&&(p=b.placement),b.rects&&(a=b.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):b.rects),{x:u,y:f}=st(a,p,c)),h=-1)}return{x:u,y:f,placement:p,strategy:i,middlewareData:d}};function mt(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function J(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function gt(t,e){var o;e===void 0&&(e={});const{x:n,y:i,platform:r,rects:l,elements:s,strategy:c}=t,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:d=0}=e,m=mt(d),h=s[p?f==="floating"?"reference":"floating":f],g=J(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(h)))==null||o?h:h.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(s.floating)),boundary:a,rootBoundary:u,strategy:c})),y=f==="floating"?{...l.floating,x:n,y:i}:l.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(s.floating)),x=await(r.isElement==null?void 0:r.isElement(w))&&await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1},$=J(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:c}):y);return{top:(g.top-$.top+m.top)/x.y,bottom:($.bottom-g.bottom+m.bottom)/x.y,left:(g.left-$.left+m.left)/x.x,right:($.right-g.right+m.right)/x.x}}const Pt=Math.min,Dt=Math.max;function et(t,e,o){return Dt(t,Pt(e,o))}const Ct=t=>({name:"arrow",options:t,async fn(e){const{element:o,padding:n=0}=t||{},{x:i,y:r,placement:l,rects:s,platform:c,elements:a}=e;if(o==null)return{};const u=mt(n),f={x:i,y:r},p=G(l),d=ot(p),m=await c.getDimensions(o),h=p==="y",g=h?"top":"left",y=h?"bottom":"right",w=h?"clientHeight":"clientWidth",x=s.reference[d]+s.reference[p]-f[p]-s.floating[d],$=f[p]-s.reference[p],b=await(c.getOffsetParent==null?void 0:c.getOffsetParent(o));let A=b?b[w]:0;A&&await(c.isElement==null?void 0:c.isElement(b))||(A=a.floating[w]||s.floating[d]);const H=x/2-$/2,F=u[g],z=A-m[d]-u[y],S=A/2-m[d]/2+H,v=et(F,S,z),R=I(l)!=null&&S!=v&&s.reference[d]/2-(S<F?u[g]:u[y])-m[d]/2<0;return{[p]:f[p]-(R?S<F?F-S:z-S:0),data:{[p]:v,centerOffset:S-v}}}}),Ot=["top","right","bottom","left"];Ot.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const Wt={left:"right",right:"left",bottom:"top",top:"bottom"};function K(t){return t.replace(/left|right|bottom|top/g,e=>Wt[e])}function Ht(t,e,o){o===void 0&&(o=!1);const n=I(t),i=G(t),r=ot(i);let l=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(l=K(l)),{main:l,cross:K(l)}}const Ft={start:"end",end:"start"};function tt(t){return t.replace(/start|end/g,e=>Ft[e])}const Mt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o;const{placement:n,middlewareData:i,rects:r,initialPlacement:l,platform:s,elements:c}=e,{mainAxis:a=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:m=!0,...h}=t,g=V(n),y=V(l)===l,w=await(s.isRTL==null?void 0:s.isRTL(c.floating)),x=f||(y||!m?[K(l)]:function(v){const R=K(v);return[tt(v),R,tt(R)]}(l));f||d==="none"||x.push(...function(v,R,M,C){const P=I(v);let E=function(N,j,kt){const rt=["left","right"],lt=["right","left"],$t=["top","bottom"],St=["bottom","top"];switch(N){case"top":case"bottom":return kt?j?lt:rt:j?rt:lt;case"left":case"right":return j?$t:St;default:return[]}}(V(v),M==="start",C);return P&&(E=E.map(N=>N+"-"+P),R&&(E=E.concat(E.map(tt)))),E}(l,m,d,w));const $=[l,...x],b=await gt(e,h),A=[];let H=((o=i.flip)==null?void 0:o.overflows)||[];if(a&&A.push(b[g]),u){const{main:v,cross:R}=Ht(n,r,w);A.push(b[v],b[R])}if(H=[...H,{placement:n,overflows:A}],!A.every(v=>v<=0)){var F,z;const v=(((F=i.flip)==null?void 0:F.index)||0)+1,R=$[v];if(R)return{data:{index:v,overflows:H},reset:{placement:R}};let M=(z=H.filter(C=>C.overflows[0]<=0).sort((C,P)=>C.overflows[1]-P.overflows[1])[0])==null?void 0:z.placement;if(!M)switch(p){case"bestFit":{var S;const C=(S=H.map(P=>[P.placement,P.overflows.filter(E=>E>0).reduce((E,N)=>E+N,0)]).sort((P,E)=>P[1]-E[1])[0])==null?void 0:S[0];C&&(M=C);break}case"initialPlacement":M=l}if(n!==M)return{reset:{placement:M}}}return{}}}},Vt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:o,y:n}=e,i=await async function(r,l){const{placement:s,platform:c,elements:a}=r,u=await(c.isRTL==null?void 0:c.isRTL(a.floating)),f=V(s),p=I(s),d=G(s)==="x",m=["left","top"].includes(f)?-1:1,h=u&&d?-1:1,g=typeof l=="function"?l(r):l;let{mainAxis:y,crossAxis:w,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return p&&typeof x=="number"&&(w=p==="end"?-1*x:x),d?{x:w*h,y:y*m}:{x:y*m,y:w*h}}(e,t);return{x:o+i.x,y:n+i.y,data:i}}}};function Bt(t){return t==="x"?"y":"x"}const _t=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:n,placement:i}=e,{mainAxis:r=!0,crossAxis:l=!1,limiter:s={fn:g=>{let{x:y,y:w}=g;return{x:y,y:w}}},...c}=t,a={x:o,y:n},u=await gt(e,c),f=G(V(i)),p=Bt(f);let d=a[f],m=a[p];if(r){const g=f==="y"?"bottom":"right";d=et(d+u[f==="y"?"top":"left"],d,d-u[g])}if(l){const g=p==="y"?"bottom":"right";m=et(m+u[p==="y"?"top":"left"],m,m-u[g])}const h=s.fn({...e,[f]:d,[p]:m});return{...h,data:{x:h.x-o,y:h.y-n}}}}};function L(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function T(t){return L(t).getComputedStyle(t)}function yt(t){return t instanceof L(t).Node}function W(t){return yt(t)?(t.nodeName||"").toLowerCase():""}function k(t){return t instanceof L(t).HTMLElement}function D(t){return t instanceof L(t).Element}function ct(t){return typeof ShadowRoot>"u"?!1:t instanceof L(t).ShadowRoot||t instanceof ShadowRoot}function X(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=T(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function zt(t){return["table","td","th"].includes(W(t))}function nt(t){const e=it(),o=T(t);return o.transform!=="none"||o.perspective!=="none"||!e&&!!o.backdropFilter&&o.backdropFilter!=="none"||!e&&!!o.filter&&o.filter!=="none"||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function it(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function U(t){return["html","body","#document"].includes(W(t))}const at=Math.min,q=Math.max,Q=Math.round;function wt(t){const e=T(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=k(t),r=i?t.offsetWidth:o,l=i?t.offsetHeight:n,s=Q(o)!==r||Q(n)!==l;return s&&(o=r,n=l),{width:o,height:n,fallback:s}}function xt(t){return D(t)?t:t.contextElement}const vt={x:1,y:1};function B(t){const e=xt(t);if(!k(e))return vt;const o=e.getBoundingClientRect(),{width:n,height:i,fallback:r}=wt(e);let l=(r?Q(o.width):o.width)/n,s=(r?Q(o.height):o.height)/i;return l&&Number.isFinite(l)||(l=1),s&&Number.isFinite(s)||(s=1),{x:l,y:s}}const ft={x:0,y:0};function bt(t,e,o){var n,i;if(e===void 0&&(e=!0),!it())return ft;const r=t?L(t):window;return!o||e&&o!==r?ft:{x:((n=r.visualViewport)==null?void 0:n.offsetLeft)||0,y:((i=r.visualViewport)==null?void 0:i.offsetTop)||0}}function Y(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),r=xt(t);let l=vt;e&&(n?D(n)&&(l=B(n)):l=B(t));const s=bt(r,o,n);let c=(i.left+s.x)/l.x,a=(i.top+s.y)/l.y,u=i.width/l.x,f=i.height/l.y;if(r){const p=L(r),d=n&&D(n)?L(n):n;let m=p.frameElement;for(;m&&n&&d!==p;){const h=B(m),g=m.getBoundingClientRect(),y=getComputedStyle(m);g.x+=(m.clientLeft+parseFloat(y.paddingLeft))*h.x,g.y+=(m.clientTop+parseFloat(y.paddingTop))*h.y,c*=h.x,a*=h.y,u*=h.x,f*=h.y,c+=g.x,a+=g.y,m=L(m).frameElement}}return J({width:u,height:f,x:c,y:a})}function O(t){return((yt(t)?t.ownerDocument:t.document)||window.document).documentElement}function Z(t){return D(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Et(t){return Y(O(t)).left+Z(t).scrollLeft}function _(t){if(W(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ct(t)&&t.host||O(t);return ct(e)?e.host:e}function Lt(t){const e=_(t);return U(e)?e.ownerDocument.body:k(e)&&X(e)?e:Lt(e)}function Rt(t,e){var o;e===void 0&&(e=[]);const n=Lt(t),i=n===((o=t.ownerDocument)==null?void 0:o.body),r=L(n);return i?e.concat(r,r.visualViewport||[],X(n)?n:[]):e.concat(n,Rt(n))}function ut(t,e,o){let n;if(e==="viewport")n=function(i,r){const l=L(i),s=O(i),c=l.visualViewport;let a=s.clientWidth,u=s.clientHeight,f=0,p=0;if(c){a=c.width,u=c.height;const d=it();(!d||d&&r==="fixed")&&(f=c.offsetLeft,p=c.offsetTop)}return{width:a,height:u,x:f,y:p}}(t,o);else if(e==="document")n=function(i){const r=O(i),l=Z(i),s=i.ownerDocument.body,c=q(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),a=q(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let u=-l.scrollLeft+Et(i);const f=-l.scrollTop;return T(s).direction==="rtl"&&(u+=q(r.clientWidth,s.clientWidth)-c),{width:c,height:a,x:u,y:f}}(O(t));else if(D(e))n=function(i,r){const l=Y(i,!0,r==="fixed"),s=l.top+i.clientTop,c=l.left+i.clientLeft,a=k(i)?B(i):{x:1,y:1};return{width:i.clientWidth*a.x,height:i.clientHeight*a.y,x:c*a.x,y:s*a.y}}(e,o);else{const i=bt(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return J(n)}function Tt(t,e){const o=_(t);return!(o===e||!D(o)||U(o))&&(T(o).position==="fixed"||Tt(o,e))}function dt(t,e){return k(t)&&T(t).position!=="fixed"?e?e(t):t.offsetParent:null}function ht(t,e){const o=L(t);if(!k(t))return o;let n=dt(t,e);for(;n&&zt(n)&&T(n).position==="static";)n=dt(n,e);return n&&(W(n)==="html"||W(n)==="body"&&T(n).position==="static"&&!nt(n))?o:n||function(i){let r=_(i);for(;k(r)&&!U(r);){if(nt(r))return r;r=_(r)}return null}(t)||o}function Nt(t,e,o){const n=k(e),i=O(e),r=o==="fixed",l=Y(t,!0,r,e);let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(n||!n&&!r)if((W(e)!=="body"||X(i))&&(s=Z(e)),k(e)){const a=Y(e,!0,r,e);c.x=a.x+e.clientLeft,c.y=a.y+e.clientTop}else i&&(c.x=Et(i));return{x:l.left+s.scrollLeft-c.x,y:l.top+s.scrollTop-c.y,width:l.width,height:l.height}}const qt={getClippingRect:function(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const r=o==="clippingAncestors"?function(a,u){const f=u.get(a);if(f)return f;let p=Rt(a).filter(g=>D(g)&&W(g)!=="body"),d=null;const m=T(a).position==="fixed";let h=m?_(a):a;for(;D(h)&&!U(h);){const g=T(h),y=nt(h);y||g.position!=="fixed"||(d=null),(m?!y&&!d:!y&&g.position==="static"&&d&&["absolute","fixed"].includes(d.position)||X(h)&&!y&&Tt(a,h))?p=p.filter(w=>w!==h):d=g,h=_(h)}return u.set(a,p),p}(e,this._c):[].concat(o),l=[...r,n],s=l[0],c=l.reduce((a,u)=>{const f=ut(e,u,i);return a.top=q(f.top,a.top),a.right=at(f.right,a.right),a.bottom=at(f.bottom,a.bottom),a.left=q(f.left,a.left),a},ut(e,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t;const i=k(o),r=O(o);if(o===r)return e;let l={scrollLeft:0,scrollTop:0},s={x:1,y:1};const c={x:0,y:0};if((i||!i&&n!=="fixed")&&((W(o)!=="body"||X(r))&&(l=Z(o)),k(o))){const a=Y(o);s=B(o),c.x=a.x+o.clientLeft,c.y=a.y+o.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-l.scrollLeft*s.x+c.x,y:e.y*s.y-l.scrollTop*s.y+c.y}},isElement:D,getDimensions:function(t){return wt(t)},getOffsetParent:ht,getDocumentElement:O,getScale:B,async getElementRects(t){let{reference:e,floating:o,strategy:n}=t;const i=this.getOffsetParent||ht,r=this.getDimensions;return{reference:Nt(e,await i(o),n),floating:{x:0,y:0,...await r(o)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>T(t).direction==="rtl"},Xt=(t,e,o)=>{const n=new Map,i={platform:qt,...o},r={...i.platform,_c:n};return At(t,e,{...i,platform:r})},Yt=t=>!t||typeof t!="object"?!1:typeof t.nodeType<"u",pt=t=>Yt(t)?t:typeof t=="string"&&t.length>0?document.querySelector(t):null;class It{init(){const e=["mouseenter","focus"],o=["mouseleave","blur"];this.spacer=10,this.type==="clickable"?(this.targetEl.addEventListener("click",()=>{this.isOpened?this.hide():this.show()},!1),this.dismissEls.forEach(n=>{n.addEventListener("click",()=>{this.hide()},!1)}),this.tooltipEl.addEventListener("click",n=>n.stopPropagation(),!1)):(e.forEach(n=>{this.targetEl.addEventListener(n,()=>{this.show()},!1)}),o.forEach(n=>{this.targetEl.addEventListener(n,()=>{this.hide()},!1)}))}create(){const e=document.createElement("div"),o=document.createElement("div");return e.classList.add("c-tooltip"),o.classList.add("c-tooltip__inner"),e.innerHTML=this.content,e.appendChild(o),document.body.appendChild(e),e}constructor({targetEl:e,tooltipEl:o,content:n,placement:i,type:r}){if(this.targetEl=pt(e),this.tooltipEl=pt(o),this.placement=i,this.type=r,this.content=n,!this.targetEl)throw new Error("Tooltip target doesn't exist.");if(!this.tooltipEl&&this.content&&(this.tooltipEl=this.create()),!this.tooltipEl)throw new Error("Tooltip element doesn't exist.");this.onDocumentClick=l=>{this.hide()},this.onWindowScroll=l=>{this.updatePosition()},this.onWindowResize=l=>{this.updatePosition()},this.dismissEls=this.tooltipEl.querySelectorAll("[data-tooltip-dismiss]"),this.arrowEl=this.tooltipEl.querySelector(".c-tooltip__arrow"),this.init()}updatePosition(){const e=[Vt(this.spacer),Mt(),_t({padding:this.spacer})];this.arrowEl&&e.push(Ct({element:this.arrowEl})),Xt(this.targetEl,this.tooltipEl,{placement:this.placement??"top",strategy:"fixed",middleware:e}).then(({x:o,y:n,placement:i,middlewareData:r})=>{if(Object.assign(this.tooltipEl.style,{left:`${o}px`,top:`${n}px`}),this.arrowEl){const{x:l,y:s}=r.arrow,c={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];Object.assign(this.arrowEl.style,{left:l?`${l}px`:"",top:s?`${s}px`:"",right:"",bottom:"",[c]:`${this.arrowEl.offsetHeight/-2}px`})}})}show(){this.type==="clickable"&&setTimeout(()=>{document.addEventListener("click",this.onDocumentClick,!1)}),window.addEventListener("scroll",this.onWindowScroll,!1),window.addEventListener("resize",this.onWindowResize,!1),this.isOpened=!0,this.tooltipEl.setAttribute("data-show",""),this.updatePosition()}hide(){this.tooltipEl.removeAttribute("data-show"),this.isOpened=!1,document.removeEventListener("click",this.onDocumentClick),window.removeEventListener("scroll",this.onWindowScroll),window.removeEventListener("resize",this.onWindowResize)}}export{It as default};
//# sourceMappingURL=index.0e1a4059.js.map
