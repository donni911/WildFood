{"version":3,"file":"index.37f0e9b0.js","sources":["../../../../node_modules/debounce/index.js","../../../../resources/js@src/modules/carousel/index.js"],"sourcesContent":["/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","import { debounce } from 'debounce';\n\n(async () => {\n    const carouselEls = document.querySelectorAll('[data-carousel]');\n\n    if (!carouselEls.length) {\n        return;\n    }\n\n    const [\n        { default: Splide },\n        { Intersection },\n    ] = await Promise.all([\n        await import('@splidejs/splide'),\n        await import('@splidejs/splide-extension-intersection'),\n    ]);\n\n    const initCarousel = el => {\n        const arrowsEl = el.querySelector('.splide__arrows');\n        const paginationEl = el.querySelector('.splide__pagination');\n        const trackEl = el.querySelector('.splide__track');\n        const pagesEl = el.querySelector('.splide__pages');\n        const wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\n        let oldTimestamp = 0;\n\n        const carousel = new Splide(el, {\n            // type: 'loop',\n            autoWidth: true,\n            arrows: arrowsEl,\n            updateOnMove: true,\n            omitEnd: true,\n            focus: 0,\n            pagination: paginationEl,\n\n            flickPower: 200,\n        });\n\n        const wheelListener = e => {\n            const deltaX = e.deltaX;\n            const deltaY = e.deltaY;\n\n            if (!deltaX) {\n                return;\n            }\n\n            e.preventDefault();\n            e.stopPropagation();\n\n            if (deltaY || e.timeStamp - oldTimestamp < 300) {\n                return;\n            }\n\n            oldTimestamp = e.timeStamp;\n\n            carousel.go(deltaX > 0 ? '>' : '<');\n        };\n\n        if (pagesEl) {\n            carousel.on('move', newIndex => {\n                pagesEl.innerHTML = `${ newIndex + 1 }/${ carousel.length }`;\n            });\n        }\n\n        trackEl.addEventListener(wheelEvent, wheelListener);\n\n        return carousel;\n    };\n\n    const playAutoplay = carousel => {\n        const { Autoplay } = carousel.Components;\n        if (!Autoplay) return;\n        Autoplay.play();\n    };\n\n    const pauseAutoplay = carousel => {\n        const { Autoplay } = carousel.Components;\n        if (!Autoplay) return;\n        Autoplay.pause();\n    };\n\n    const setHeroCarousel = carousel => {\n        const contentEls = [\n            // ...carousel.root.querySelectorAll('.c-title'),\n            ...carousel.root.querySelectorAll('.f-btn'),\n        ];\n        let oldProgress = 0;\n\n        carousel.options.__proto__.autoplay = 'pause';\n        carousel.options.__proto__.type = 'loop';\n        carousel.options.__proto__.rewind = true;\n        carousel.options.__proto__.resetProgress = false;\n        carousel.options.__proto__.pauseOnHover = false;\n        carousel.options.__proto__.pauseOnFocus = false;\n        // carousel.options.__proto__.interval = 1000;\n\n        carousel.on('autoplay:playing', e => {\n            let progress = e * 100;\n            progress = progress + (progress - oldProgress) * 0.01;\n            carousel.root.style.setProperty('--progress', `${ progress }%`);\n            oldProgress = progress;\n        });\n\n        carousel.on('intersection:in', () => playAutoplay(carousel));\n        carousel.on('intersection:out', () => pauseAutoplay(carousel));\n\n        contentEls.forEach(el => {\n            el.addEventListener('mouseover', () => pauseAutoplay(carousel));\n            el.addEventListener('mouseout', () => playAutoplay(carousel));\n        });\n    };\n\n    carouselEls.forEach(el => {\n        const carousel = initCarousel(el);\n\n        if (el.dataset.hero !== undefined) {\n            setHeroCarousel(carousel);\n            carousel.mount({ Intersection: Intersection });\n        } else {\n            carousel.mount();\n        }\n    });\n})();\n"],"names":["debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","debounced","callNow","carouselEls","Splide","Intersection","initCarousel","el","arrowsEl","paginationEl","trackEl","pagesEl","wheelEvent","oldTimestamp","carousel","wheelListener","e","deltaX","deltaY","newIndex","playAutoplay","Autoplay","pauseAutoplay","setHeroCarousel","contentEls","oldProgress","progress"],"mappings":"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","x_google_ignoreList":[0]}