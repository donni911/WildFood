{"version":3,"file":"splide-extension-intersection.esm.796d9111.js","sources":["../../../../node_modules/@splidejs/splide-extension-intersection/dist/js/splide-extension-intersection.esm.js"],"sourcesContent":["/*!\n * @splidejs/splide-extension-intersection\n * Version  : 0.2.0\n * License  : MIT\n * Copyright: 2022 Naotoshi Fujita\n */\nfunction empty(array) {\n  array.length = 0;\n}\n\nfunction slice$1(arrayLike, start, end) {\n  return Array.prototype.slice.call(arrayLike, start, end);\n}\n\nfunction apply$1(func) {\n  return func.bind.apply(func, [null].concat(slice$1(arguments, 1)));\n}\n\nfunction typeOf$1(type, subject) {\n  return typeof subject === type;\n}\n\nvar isArray = Array.isArray;\napply$1(typeOf$1, \"function\");\napply$1(typeOf$1, \"string\");\napply$1(typeOf$1, \"undefined\");\n\nfunction toArray(value) {\n  return isArray(value) ? value : [value];\n}\n\nfunction forEach(values, iteratee) {\n  toArray(values).forEach(iteratee);\n}\n\nvar ownKeys$1 = Object.keys;\n\nfunction forOwn$1(object, iteratee, right) {\n  if (object) {\n    var keys = ownKeys$1(object);\n    keys = right ? keys.reverse() : keys;\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== \"__proto__\") {\n        if (iteratee(object[key], key) === false) {\n          break;\n        }\n      }\n    }\n  }\n\n  return object;\n}\n\nfunction assign(object) {\n  slice$1(arguments, 1).forEach(function (source) {\n    forOwn$1(source, function (value, key) {\n      object[key] = source[key];\n    });\n  });\n  return object;\n}\n\nfunction EventBinder() {\n  var listeners = [];\n\n  function bind(targets, events, callback, options) {\n    forEachEvent(targets, events, function (target, event, namespace) {\n      var isEventTarget = (\"addEventListener\" in target);\n      var remover = isEventTarget ? target.removeEventListener.bind(target, event, callback, options) : target[\"removeListener\"].bind(target, callback);\n      isEventTarget ? target.addEventListener(event, callback, options) : target[\"addListener\"](callback);\n      listeners.push([target, event, namespace, callback, remover]);\n    });\n  }\n\n  function unbind(targets, events, callback) {\n    forEachEvent(targets, events, function (target, event, namespace) {\n      listeners = listeners.filter(function (listener) {\n        if (listener[0] === target && listener[1] === event && listener[2] === namespace && (!callback || listener[3] === callback)) {\n          listener[4]();\n          return false;\n        }\n\n        return true;\n      });\n    });\n  }\n\n  function dispatch(target, type, detail) {\n    var e;\n    var bubbles = true;\n\n    if (typeof CustomEvent === \"function\") {\n      e = new CustomEvent(type, {\n        bubbles: bubbles,\n        detail: detail\n      });\n    } else {\n      e = document.createEvent(\"CustomEvent\");\n      e.initCustomEvent(type, bubbles, false, detail);\n    }\n\n    target.dispatchEvent(e);\n    return e;\n  }\n\n  function forEachEvent(targets, events, iteratee) {\n    forEach(targets, function (target) {\n      target && forEach(events, function (events2) {\n        events2.split(\" \").forEach(function (eventNS) {\n          var fragment = eventNS.split(\".\");\n          iteratee(target, fragment[0], fragment[1]);\n        });\n      });\n    });\n  }\n\n  function destroy() {\n    listeners.forEach(function (data) {\n      data[4]();\n    });\n    empty(listeners);\n  }\n\n  return {\n    bind: bind,\n    unbind: unbind,\n    dispatch: dispatch,\n    destroy: destroy\n  };\n}\nvar EVENT_DESTROY = \"destroy\";\n\nfunction EventInterface(Splide2) {\n  var bus = Splide2 ? Splide2.event.bus : document.createDocumentFragment();\n  var binder = EventBinder();\n\n  function on(events, callback) {\n    binder.bind(bus, toArray(events).join(\" \"), function (e) {\n      callback.apply(callback, isArray(e.detail) ? e.detail : []);\n    });\n  }\n\n  function emit(event) {\n    binder.dispatch(bus, event, slice$1(arguments, 1));\n  }\n\n  if (Splide2) {\n    Splide2.event.on(EVENT_DESTROY, binder.destroy);\n  }\n\n  return assign(binder, {\n    bus: bus,\n    on: on,\n    off: apply$1(binder.unbind, bus),\n    emit: emit\n  });\n}\n\nfunction slice(arrayLike, start, end) {\n  return Array.prototype.slice.call(arrayLike, start, end);\n}\n\nfunction apply(func) {\n  return func.bind(null, ...slice(arguments, 1));\n}\n\nfunction typeOf(type, subject) {\n  return typeof subject === type;\n}\napply(typeOf, \"function\");\napply(typeOf, \"string\");\nconst isUndefined = apply(typeOf, \"undefined\");\n\nconst ownKeys = Object.keys;\n\nfunction forOwn(object, iteratee, right) {\n  if (object) {\n    let keys = ownKeys(object);\n    keys = right ? keys.reverse() : keys;\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      if (key !== \"__proto__\") {\n        if (iteratee(object[key], key) === false) {\n          break;\n        }\n      }\n    }\n  }\n  return object;\n}\n\nconst EVENT_INTERSECTION = \"intersection\";\nconst EVENT_INTERSECTION_IN = \"intersection:in\";\nconst EVENT_INTERSECTION_OUT = \"intersection:out\";\n\nfunction Handlers(Splide2) {\n  const { Components } = Splide2;\n  return {\n    keyboard: {\n      enable() {\n        Components.Keyboard.disable(false);\n      },\n      disable() {\n        Components.Keyboard.disable(true);\n      }\n    },\n    autoplay: {\n      enable() {\n        if (Splide2.options.autoplay) {\n          Components.Autoplay.play();\n        }\n      },\n      disable() {\n        Components.Autoplay.pause();\n      }\n    },\n    autoScroll: {\n      enable() {\n        const AutoScroll = Components.AutoScroll;\n        AutoScroll && AutoScroll.play();\n      },\n      disable() {\n        const AutoScroll = Components.AutoScroll;\n        AutoScroll && AutoScroll.pause();\n      }\n    },\n    video: {\n      enable() {\n        const Video = Components.Video;\n        Video && Video.play();\n      },\n      disable() {\n        const Video = Components.Video;\n        Video && Video.pause();\n      }\n    }\n  };\n}\n\nfunction Intersection(Splide2, Components2, options) {\n  const { emit } = EventInterface(Splide2);\n  const intersectionOptions = options.intersection || {};\n  const handlers = Handlers(Splide2);\n  let observer;\n  function mount() {\n    if (window.IntersectionObserver) {\n      observer = new IntersectionObserver(onIntersect, {\n        root: intersectionOptions.root,\n        rootMargin: intersectionOptions.rootMargin,\n        threshold: intersectionOptions.threshold\n      });\n      observer.observe(Splide2.root);\n    }\n  }\n  function destroy() {\n    if (observer) {\n      observer.disconnect();\n      observer = null;\n    }\n  }\n  function onIntersect([entry]) {\n    if (entry) {\n      entry.isIntersecting ? inView(entry) : outView(entry);\n      emit(EVENT_INTERSECTION, entry);\n    }\n  }\n  function handle(options2) {\n    forOwn(options2, (value, key) => {\n      if (!isUndefined(value)) {\n        const handler = handlers[key];\n        value ? handler.enable() : handler.disable();\n      }\n    });\n  }\n  function inView(entry) {\n    handle(intersectionOptions.inView || {});\n    emit(EVENT_INTERSECTION_IN, entry);\n    if (intersectionOptions.once) {\n      destroy();\n    }\n  }\n  function outView(entry) {\n    handle(intersectionOptions.outView || {});\n    emit(EVENT_INTERSECTION_OUT, entry);\n  }\n  return {\n    mount,\n    destroy\n  };\n}\n\nexport { Intersection };\n"],"names":["empty","array","slice$1","arrayLike","start","end","apply$1","func","typeOf$1","type","subject","isArray","toArray","value","forEach","values","iteratee","ownKeys$1","forOwn$1","object","right","keys","i","key","assign","source","EventBinder","listeners","bind","targets","events","callback","options","forEachEvent","target","event","namespace","isEventTarget","remover","unbind","listener","dispatch","detail","e","bubbles","events2","eventNS","fragment","destroy","data","EVENT_DESTROY","EventInterface","Splide2","bus","binder","on","emit","slice","apply","typeOf","isUndefined","ownKeys","forOwn","EVENT_INTERSECTION","EVENT_INTERSECTION_IN","EVENT_INTERSECTION_OUT","Handlers","Components","AutoScroll","Video","Intersection","Components2","intersectionOptions","handlers","observer","mount","onIntersect","entry","inView","outView","handle","options2","handler"],"mappings":"AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAMA,SAASA,EAAMC,EAAO,CACpBA,EAAM,OAAS,CACjB,CAEA,SAASC,EAAQC,EAAWC,EAAOC,EAAK,CACtC,OAAO,MAAM,UAAU,MAAM,KAAKF,EAAWC,EAAOC,CAAG,CACzD,CAEA,SAASC,EAAQC,EAAM,CACrB,OAAOA,EAAK,KAAK,MAAMA,EAAM,CAAC,IAAI,EAAE,OAAOL,EAAQ,UAAW,CAAC,CAAC,CAAC,CACnE,CAEA,SAASM,EAASC,EAAMC,EAAS,CAC/B,OAAO,OAAOA,IAAYD,CAC5B,CAEA,IAAIE,EAAU,MAAM,QACpBL,EAAQE,EAAU,UAAU,EAC5BF,EAAQE,EAAU,QAAQ,EAC1BF,EAAQE,EAAU,WAAW,EAE7B,SAASI,EAAQC,EAAO,CACtB,OAAOF,EAAQE,CAAK,EAAIA,EAAQ,CAACA,CAAK,CACxC,CAEA,SAASC,EAAQC,EAAQC,EAAU,CACjCJ,EAAQG,CAAM,EAAE,QAAQC,CAAQ,CAClC,CAEA,IAAIC,EAAY,OAAO,KAEvB,SAASC,EAASC,EAAQH,EAAUI,EAAO,CACzC,GAAID,EAAQ,CACV,IAAIE,EAAOJ,EAAUE,CAAM,EAC3BE,EAAOD,EAAQC,EAAK,QAAO,EAAKA,EAEhC,QAASC,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CACpC,IAAIC,EAAMF,EAAKC,CAAC,EAEhB,GAAIC,IAAQ,aACNP,EAASG,EAAOI,CAAG,EAAGA,CAAG,IAAM,GACjC,OAMR,OAAOJ,CACT,CAEA,SAASK,EAAOL,EAAQ,CACtB,OAAAjB,EAAQ,UAAW,CAAC,EAAE,QAAQ,SAAUuB,EAAQ,CAC9CP,EAASO,EAAQ,SAAUZ,EAAOU,EAAK,CACrCJ,EAAOI,CAAG,EAAIE,EAAOF,CAAG,CAC9B,CAAK,CACL,CAAG,EACMJ,CACT,CAEA,SAASO,GAAc,CACrB,IAAIC,EAAY,CAAA,EAEhB,SAASC,EAAKC,EAASC,EAAQC,EAAUC,EAAS,CAChDC,EAAaJ,EAASC,EAAQ,SAAUI,EAAQC,EAAOC,EAAW,CAChE,IAAIC,EAAiB,qBAAsBH,EACvCI,EAAUD,EAAgBH,EAAO,oBAAoB,KAAKA,EAAQC,EAAOJ,EAAUC,CAAO,EAAIE,EAAO,eAAkB,KAAKA,EAAQH,CAAQ,EAChJM,EAAgBH,EAAO,iBAAiBC,EAAOJ,EAAUC,CAAO,EAAIE,EAAO,YAAeH,CAAQ,EAClGJ,EAAU,KAAK,CAACO,EAAQC,EAAOC,EAAWL,EAAUO,CAAO,CAAC,CAClE,CAAK,CACF,CAED,SAASC,EAAOV,EAASC,EAAQC,EAAU,CACzCE,EAAaJ,EAASC,EAAQ,SAAUI,EAAQC,EAAOC,EAAW,CAChET,EAAYA,EAAU,OAAO,SAAUa,EAAU,CAC/C,OAAIA,EAAS,CAAC,IAAMN,GAAUM,EAAS,CAAC,IAAML,GAASK,EAAS,CAAC,IAAMJ,IAAc,CAACL,GAAYS,EAAS,CAAC,IAAMT,IAChHS,EAAS,CAAC,IACH,IAGF,EACf,CAAO,CACP,CAAK,CACF,CAED,SAASC,EAASP,EAAQzB,EAAMiC,EAAQ,CACtC,IAAIC,EACAC,EAAU,GAEd,OAAI,OAAO,aAAgB,WACzBD,EAAI,IAAI,YAAYlC,EAAM,CACxB,QAASmC,EACT,OAAQF,CAChB,CAAO,GAEDC,EAAI,SAAS,YAAY,aAAa,EACtCA,EAAE,gBAAgBlC,EAAMmC,EAAS,GAAOF,CAAM,GAGhDR,EAAO,cAAcS,CAAC,EACfA,CACR,CAED,SAASV,EAAaJ,EAASC,EAAQd,EAAU,CAC/CF,EAAQe,EAAS,SAAUK,EAAQ,CACjCA,GAAUpB,EAAQgB,EAAQ,SAAUe,EAAS,CAC3CA,EAAQ,MAAM,GAAG,EAAE,QAAQ,SAAUC,EAAS,CAC5C,IAAIC,EAAWD,EAAQ,MAAM,GAAG,EAChC9B,EAASkB,EAAQa,EAAS,CAAC,EAAGA,EAAS,CAAC,CAAC,CACnD,CAAS,CACT,CAAO,CACP,CAAK,CACF,CAED,SAASC,GAAU,CACjBrB,EAAU,QAAQ,SAAUsB,EAAM,CAChCA,EAAK,CAAC,GACZ,CAAK,EACDjD,EAAM2B,CAAS,CAChB,CAED,MAAO,CACL,KAAMC,EACN,OAAQW,EACR,SAAUE,EACV,QAASO,CACb,CACA,CACA,IAAIE,EAAgB,UAEpB,SAASC,EAAeC,EAAS,CAC/B,IAAIC,EAAMD,EAAUA,EAAQ,MAAM,IAAM,SAAS,yBAC7CE,EAAS5B,IAEb,SAAS6B,EAAGzB,EAAQC,EAAU,CAC5BuB,EAAO,KAAKD,EAAKzC,EAAQkB,CAAM,EAAE,KAAK,GAAG,EAAG,SAAUa,EAAG,CACvDZ,EAAS,MAAMA,EAAUpB,EAAQgC,EAAE,MAAM,EAAIA,EAAE,OAAS,CAAA,CAAE,CAChE,CAAK,CACF,CAED,SAASa,EAAKrB,EAAO,CACnBmB,EAAO,SAASD,EAAKlB,EAAOjC,EAAQ,UAAW,CAAC,CAAC,CAClD,CAED,OAAIkD,GACFA,EAAQ,MAAM,GAAGF,EAAeI,EAAO,OAAO,EAGzC9B,EAAO8B,EAAQ,CACpB,IAAKD,EACL,GAAIE,EACJ,IAAKjD,EAAQgD,EAAO,OAAQD,CAAG,EAC/B,KAAMG,CACV,CAAG,CACH,CAEA,SAASC,EAAMtD,EAAWC,EAAOC,EAAK,CACpC,OAAO,MAAM,UAAU,MAAM,KAAKF,EAAWC,EAAOC,CAAG,CACzD,CAEA,SAASqD,EAAMnD,EAAM,CACnB,OAAOA,EAAK,KAAK,KAAM,GAAGkD,EAAM,UAAW,CAAC,CAAC,CAC/C,CAEA,SAASE,EAAOlD,EAAMC,EAAS,CAC7B,OAAO,OAAOA,IAAYD,CAC5B,CACAiD,EAAMC,EAAQ,UAAU,EACxBD,EAAMC,EAAQ,QAAQ,EACtB,MAAMC,EAAcF,EAAMC,EAAQ,WAAW,EAEvCE,EAAU,OAAO,KAEvB,SAASC,EAAO3C,EAAQH,EAAUI,EAAO,CACvC,GAAID,EAAQ,CACV,IAAIE,EAAOwC,EAAQ1C,CAAM,EACzBE,EAAOD,EAAQC,EAAK,QAAO,EAAKA,EAChC,QAASC,EAAI,EAAGA,EAAID,EAAK,OAAQC,IAAK,CACpC,MAAMC,EAAMF,EAAKC,CAAC,EAClB,GAAIC,IAAQ,aACNP,EAASG,EAAOI,CAAG,EAAGA,CAAG,IAAM,GACjC,OAKR,OAAOJ,CACT,CAEA,MAAM4C,EAAqB,eACrBC,EAAwB,kBACxBC,EAAyB,mBAE/B,SAASC,EAASd,EAAS,CACzB,KAAM,CAAE,WAAAe,CAAY,EAAGf,EACvB,MAAO,CACL,SAAU,CACR,QAAS,CACPe,EAAW,SAAS,QAAQ,EAAK,CAClC,EACD,SAAU,CACRA,EAAW,SAAS,QAAQ,EAAI,CACjC,CACF,EACD,SAAU,CACR,QAAS,CACHf,EAAQ,QAAQ,UAClBe,EAAW,SAAS,MAEvB,EACD,SAAU,CACRA,EAAW,SAAS,OACrB,CACF,EACD,WAAY,CACV,QAAS,CACP,MAAMC,EAAaD,EAAW,WAC9BC,GAAcA,EAAW,MAC1B,EACD,SAAU,CACR,MAAMA,EAAaD,EAAW,WAC9BC,GAAcA,EAAW,OAC1B,CACF,EACD,MAAO,CACL,QAAS,CACP,MAAMC,EAAQF,EAAW,MACzBE,GAASA,EAAM,MAChB,EACD,SAAU,CACR,MAAMA,EAAQF,EAAW,MACzBE,GAASA,EAAM,OAChB,CACF,CACL,CACA,CAEA,SAASC,EAAalB,EAASmB,EAAavC,EAAS,CACnD,KAAM,CAAE,KAAAwB,CAAI,EAAKL,EAAeC,CAAO,EACjCoB,EAAsBxC,EAAQ,cAAgB,GAC9CyC,EAAWP,EAASd,CAAO,EACjC,IAAIsB,EACJ,SAASC,GAAQ,CACX,OAAO,uBACTD,EAAW,IAAI,qBAAqBE,EAAa,CAC/C,KAAMJ,EAAoB,KAC1B,WAAYA,EAAoB,WAChC,UAAWA,EAAoB,SACvC,CAAO,EACDE,EAAS,QAAQtB,EAAQ,IAAI,EAEhC,CACD,SAASJ,GAAU,CACb0B,IACFA,EAAS,WAAU,EACnBA,EAAW,KAEd,CACD,SAASE,EAAY,CAACC,CAAK,EAAG,CACxBA,IACFA,EAAM,eAAiBC,EAAOD,CAAK,EAAIE,EAAQF,CAAK,EACpDrB,EAAKO,EAAoBc,CAAK,EAEjC,CACD,SAASG,EAAOC,EAAU,CACxBnB,EAAOmB,EAAU,CAACpE,EAAOU,IAAQ,CAC/B,GAAI,CAACqC,EAAY/C,CAAK,EAAG,CACvB,MAAMqE,EAAUT,EAASlD,CAAG,EAC5BV,EAAQqE,EAAQ,OAAQ,EAAGA,EAAQ,QAAO,EAElD,CAAK,CACF,CACD,SAASJ,EAAOD,EAAO,CACrBG,EAAOR,EAAoB,QAAU,CAAA,CAAE,EACvChB,EAAKQ,EAAuBa,CAAK,EAC7BL,EAAoB,MACtBxB,GAEH,CACD,SAAS+B,EAAQF,EAAO,CACtBG,EAAOR,EAAoB,SAAW,CAAA,CAAE,EACxChB,EAAKS,EAAwBY,CAAK,CACnC,CACD,MAAO,CACL,MAAAF,EACA,QAAA3B,CACJ,CACA","x_google_ignoreList":[0]}