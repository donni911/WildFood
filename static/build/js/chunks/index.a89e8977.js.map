{"version":3,"file":"index.a89e8977.js","sources":["../../../../resources/js@src/plugins/collapse/index.js"],"sourcesContent":["const collapse = toggleEl => {\n    const target = toggleEl.dataset.collapseTarget;\n\n    if (!target) {\n        return;\n    }\n\n    const paneEl = document.querySelector(`[data-collapse-pane]${ target }`);\n    const contentEl = paneEl.querySelector('[data-collapse-content]');\n    const itemEl = paneEl.closest('[data-collapse-item]');\n    let isOpen = false;\n    let isCollapsing = false;\n    let transitionFunction = null;\n\n    toggleEl.addEventListener('click', () => {\n        isOpen = isCollapseOpen();\n\n        if (isOpen) {\n            close();\n        } else {\n            open();\n        }\n    });\n\n    function open() {\n        if (isCollapsing) {\n            return;\n        }\n\n        if (transitionFunction) {\n            paneEl.removeEventListener('transitionend', transitionFunction);\n        }\n\n        transitionFunction = () => {\n            paneEl.classList.remove('is-collapsing');\n            isCollapsing = false;\n            paneEl.removeEventListener('transitionend', transitionFunction);\n        };\n\n        isCollapsing = true;\n        paneEl.classList.add('is-collapsing');\n        paneEl.classList.add('is-shown');\n        toggleEl.classList.add('is-open');\n        itemEl.classList.add('is-open');\n        paneEl.style.height = contentEl.offsetHeight + 'px';\n\n        paneEl.addEventListener('transitionend', transitionFunction);\n    }\n\n    function close() {\n        if (isCollapsing) {\n            return;\n        }\n\n        if (transitionFunction) {\n            paneEl.removeEventListener('transitionend', transitionFunction);\n        }\n\n        transitionFunction = () => {\n            paneEl.classList.remove('is-shown');\n            paneEl.classList.remove('is-collapsing');\n            isCollapsing = false;\n            paneEl.removeEventListener('transitionend', transitionFunction);\n        };\n\n        isCollapsing = true;\n        paneEl.style.height = contentEl.offsetHeight + 'px';\n\n        setTimeout(() => {\n            paneEl.classList.add('is-collapsing');\n            paneEl.style.height = '';\n            toggleEl.classList.remove('is-open');\n            itemEl.classList.remove('is-open');\n\n            paneEl.addEventListener('transitionend', transitionFunction);\n        });\n    }\n\n    function isCollapseOpen() {\n        return toggleEl.classList.contains('is-open');\n    }\n};\n\nexport default collapse;\n"],"names":["collapse","toggleEl","target","paneEl","contentEl","itemEl","isOpen","isCollapsing","transitionFunction","isCollapseOpen","close","open"],"mappings":"AAAK,MAACA,EAAWC,GAAY,CACzB,MAAMC,EAASD,EAAS,QAAQ,eAEhC,GAAI,CAACC,EACD,OAGJ,MAAMC,EAAS,SAAS,cAAc,uBAAwBD,GAAS,EACjEE,EAAYD,EAAO,cAAc,yBAAyB,EAC1DE,EAASF,EAAO,QAAQ,sBAAsB,EACpD,IAAIG,EAAS,GACTC,EAAe,GACfC,EAAqB,KAEzBP,EAAS,iBAAiB,QAAS,IAAM,CACrCK,EAASG,EAAc,EAEnBH,EACAI,IAEAC,GAEZ,CAAK,EAED,SAASA,GAAO,CACRJ,IAIAC,GACAL,EAAO,oBAAoB,gBAAiBK,CAAkB,EAGlEA,EAAqB,IAAM,CACvBL,EAAO,UAAU,OAAO,eAAe,EACvCI,EAAe,GACfJ,EAAO,oBAAoB,gBAAiBK,CAAkB,CAC1E,EAEQD,EAAe,GACfJ,EAAO,UAAU,IAAI,eAAe,EACpCA,EAAO,UAAU,IAAI,UAAU,EAC/BF,EAAS,UAAU,IAAI,SAAS,EAChCI,EAAO,UAAU,IAAI,SAAS,EAC9BF,EAAO,MAAM,OAASC,EAAU,aAAe,KAE/CD,EAAO,iBAAiB,gBAAiBK,CAAkB,EAC9D,CAED,SAASE,GAAQ,CACTH,IAIAC,GACAL,EAAO,oBAAoB,gBAAiBK,CAAkB,EAGlEA,EAAqB,IAAM,CACvBL,EAAO,UAAU,OAAO,UAAU,EAClCA,EAAO,UAAU,OAAO,eAAe,EACvCI,EAAe,GACfJ,EAAO,oBAAoB,gBAAiBK,CAAkB,CAC1E,EAEQD,EAAe,GACfJ,EAAO,MAAM,OAASC,EAAU,aAAe,KAE/C,WAAW,IAAM,CACbD,EAAO,UAAU,IAAI,eAAe,EACpCA,EAAO,MAAM,OAAS,GACtBF,EAAS,UAAU,OAAO,SAAS,EACnCI,EAAO,UAAU,OAAO,SAAS,EAEjCF,EAAO,iBAAiB,gBAAiBK,CAAkB,CACvE,CAAS,EACJ,CAED,SAASC,GAAiB,CACtB,OAAOR,EAAS,UAAU,SAAS,SAAS,CAC/C,CACL"}